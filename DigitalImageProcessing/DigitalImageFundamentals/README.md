# Digital Image Fundamentals
数字图像处理的一些基本概念。

## 图像感知与获取
一幅图像可以定义为一个二维函数 $f(x,y)$ ，其中 $x$ 和 $y$ 是空间坐标，任意一对空间坐标 $(x,y)$ 处的幅值 $f$ 称为图像在该点的强度或灰度。当 $x,y$ 和灰度值 $f$ 都是有限的离散量时，我们称该图像为数字图像。

我们感兴趣的大多数图像，都是由照射源和形成图像的场景元素对光的反射和吸收产生的。通过传感器将照射能量转换为数字图像。


### 传感器
- 条带传感器：
条带传感器在垂直于运动的另一个方向上成像，每线性运动一个增量，输出图像的一行。多行图像数据组成了成像区域。

- 阵列传感器：
阵列传感器以二维阵列的形式排列感测元件，通过光学透镜，每次输出一幅数字图像。

### 成像模型
我们用形如 $f(x,y)$ 的二维函数来表示图像，在空间坐标 $(x,y)$ 处 $f$ 的值是一个标量，其与物理意义由图像源决定，其值与物理源辐射的能量成正比，故 $f(x,y)$ 一定是非负且有限的，即 $$0 \leq f(x,y) < \infty$$ 函数 $f(x,y)$ 由入射分量 $i(x,y)$ 和反射分量 $r(x,y)$ 表示。这两个函数的乘积形成 $f(x,y)$ ，即 $$f(x,y)=i(x,y)r(x,y)$$ 其中 $$0 \leq i(x,y) < \infty$$ 和 $$0 \leq r(x,y) \leq 1$$ 于是，反射分量限制在0（全吸收）和1（全反射）之间。

## 图像取样和量化
传感器输出的是连续的电压波形，这些波形的幅度和空间特性都与被感测物体的物理现象相关。要产生一幅数字图像，就需要把连续感测的数据转换为数字形式。这种转换包括两种处理：取样和量化。

### 取样和量化的基本概念
一幅图像的 $x$ 坐标和 $y$ 坐标是连续的，其幅度也是连续的。要将函数数字化，就要对函数的坐标和幅度进行取样。对坐标值进行数字化称为**取样**，对幅度值数字化称为**量化**。实践中，取样方法由传感器决定。

### 数字图像的表示
通常，我们使用矩阵的形式表示数字图像，矩阵中每个元素称为像素。并且用 $f(i,j)$ 来表示矩阵坐标 $(i,j)$ 处的像素值。

我们将图像系统的灰度跨越的值域称之为动态范围，其定义为系统中最大可度量灰度与最小可检测灰度之比。通常，上限取决于饱和度，下限取决于噪声。

饱和度指的是一个最大值，超过该值的所有灰度值都将被裁剪掉。而噪声是指图像中多余的干扰信息。

动态范围建立的图像系统所能表示的是一幅图像所具有的最高和最低灰度级。与这概念紧密相关的是图像**对比度**，它定义为一幅图像中最高和最低灰度级之间的灰度差。**反差比**是这两个量的比率。一幅图像中的可观察像素数量具有高动态范围时，称该图像具有高对比度。

### 线性索引和坐标索引
用二维坐标表示一个像素的位置的方式，称为坐标索引。在图像处理编程中，另一种广泛使用的表示方法为线性索引。实际上是由通过计算距坐标原点 $(0,0)$ 的偏移量得到的，也就是二维数组的一维展开。

### 空间分辨率和灰度分辨率
**空间分辨率是图像中最小可辨别细节的测度**。其中单位距离的线对数和单位距离的点数（像素点个数）是最常用的测度。通俗来讲，单位距离的空间分辨率越高，图像质量就越好。当然，空间分辨率的测度必须针对空间单位来声明才有意义，图像本身并不含有空间分辨率信息。也就是说，比较两张图像的空间分辨率，只有在两张图像尺寸相同时才有意义。

**灰度分辨率是灰度级中可分辨的最小变化**。灰度值通常是 $2$ 的整数次幂，最常用的是 $8$ 比特。且灰度分辨率会收到噪声和饱和度的影响。通俗来讲，灰度分辨率越高，图像的细节越清晰。

### 图像内插
内插通常在图像的放大、缩小、旋转和几何校正中使用。其中缩小和放大基本上采用图像重取样方法。

内插是指用已知数据估计未知位置的值的过程。例如，我们希望将500x500像素的图像放大到750x750像素。一种简单的方法是，创建一个750x750大小的假想网格，其像素间隔与原图像相同，然后收缩网格使其和原图像完全重叠。显然收缩后的像素间隔要小于原图像的像素间隔。我们通过某种方式，为收缩后的每个像素点赋值，再将其展开为750x750像素，就得到了放大后的图像。这个赋值的方法就是内插。

常见的方法有最临近内插、双线性内插、双三次内插。其区别只是使用不同个数的临近点来估算当前位置的值。

- 最临近内插：
取当前位置在原图中最临近的像素点，将其灰度值赋给当前位置。
- 双线性内插：
取当前位置在原图中最临近的4个像素点，经过计算后将其灰度值赋给当前位置。令 $(x,y)$ 表示当前位置， $v(x,y)$ 表示当前位置的灰度值，则赋值公式为： $$v(x,y)=ax+by+cxy+d$$ 
- 双三次内插：
取当前位置在原图中最临近的16个像素点，经过计算后将其灰度值赋给当前位置。其赋值公式为： $$v(x,y)=\sum_{i=0}^3\sum_{j=0}^3a_{ij}x^iy^j$$ 

通常，在保留细节方面，双三次内插强于双线性内插强于最临近内插，双三次内插是商用图像编辑程序常用的标准内插方法。